[{"name":"sql.active_record","payload":{"sql":"            SELECT c.relname\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind IN ('r', 'v','m') -- (r)elation/table, (v)iew, (m)aterialized view\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[]},"time":"2017-04-28T10:41:46.273+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.274+03:00","children":[],"duration":1.1070039999999999},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"administrators\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[]},"time":"2017-04-28T10:41:46.275+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.277+03:00","children":[],"duration":2.458553},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"administrators\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[]},"time":"2017-04-28T10:41:46.278+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.281+03:00","children":[],"duration":2.7111639999999997},{"name":"sql.active_record","payload":{"sql":"SELECT  \"administrators\".* FROM \"administrators\" WHERE \"administrators\".\"id\" = $1 ORDER BY \"administrators\".\"id\" ASC LIMIT $2","name":"Administrator Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}]},"time":"2017-04-28T10:41:46.283+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.284+03:00","children":[],"duration":1.1694710000000001},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"product_categories\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":55,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"set_product_category"},"time":"2017-04-28T10:41:46.322+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.324+03:00","children":[],"duration":2.2743529999999996},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"product_categories\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":55,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"set_product_category"},"time":"2017-04-28T10:41:46.326+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.329+03:00","children":[],"duration":2.3321829999999997},{"name":"sql.active_record","payload":{"sql":"SELECT  \"product_categories\".* FROM \"product_categories\" WHERE \"product_categories\".\"slug\" = $1 ORDER BY \"product_categories\".\"id\" ASC LIMIT $2","name":"ProductCategory Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"slug","value_before_type_cast":"slug-category-0","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"slug-category-0","value_for_database":"slug-category-0"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":55,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"set_product_category"},"time":"2017-04-28T10:41:46.330+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.331+03:00","children":[],"duration":1.185668},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":47253298049740,"statement_name":null,"binds":[],"line":28,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"update"},"time":"2017-04-28T10:41:46.348+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:46.348+03:00","children":[],"duration":0.683212},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"product_categories\" WHERE \"product_categories\".\"slug\" = $1 AND (\"product_categories\".\"id\" != $2) LIMIT $3","name":"ProductCategory Exists","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"slug","value_before_type_cast":"slug-category-0","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"slug-category-0","value_for_database":"slug-category-0"},{"name":"id","value_before_type_cast":597,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":597,"value_for_database":597},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":28,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"update"},"time":"2017-04-28T10:41:47.340+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.343+03:00","children":[],"duration":3.177893},{"name":"sql.active_record","payload":{"sql":"UPDATE \"product_categories\" SET \"description\" = $1, \"large_avatar\" = $2 WHERE \"product_categories\".\"id\" = $3","name":"SQL","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"description","value_before_type_cast":"\u003cp\u003ethis is description\u003c/p\u003e\r\n","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"\u003cp\u003ethis is description\u003c/p\u003e\r\n","value_for_database":"\u003cp\u003ethis is description\u003c/p\u003e\r\n"},{"name":"large_avatar","value_before_type_cast":"nastol.com.ua_174702.jpg","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"nastol.com.ua_174702.jpg","value_for_database":"nastol.com.ua_174702.jpg"},{"name":"id","value_before_type_cast":597,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":597,"value_for_database":597}],"line":28,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"update"},"time":"2017-04-28T10:41:47.346+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.347+03:00","children":[],"duration":1.4137819999999999},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":47253298049740,"statement_name":null,"binds":[],"line":28,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"update"},"time":"2017-04-28T10:41:47.360+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.376+03:00","children":[],"duration":16.504115},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":47253298049740,"statement_name":null,"binds":[],"line":30,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"block in update"},"time":"2017-04-28T10:41:47.378+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.381+03:00","children":[],"duration":2.962427},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"product_categories\" WHERE \"product_categories\".\"slug\" = $1 AND (\"product_categories\".\"id\" != $2) LIMIT $3","name":"ProductCategory Exists","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"slug","value_before_type_cast":"slug-category-0","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"slug-category-0","value_for_database":"slug-category-0"},{"name":"id","value_before_type_cast":597,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":597,"value_for_database":597},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":30,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"block in update"},"time":"2017-04-28T10:41:47.383+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.384+03:00","children":[],"duration":1.213799},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":47253298049740,"statement_name":null,"binds":[],"line":30,"filename":"/home/dima/Rails/laston_cms/app/controllers/administrators/product_categories_controller.rb","method":"block in update"},"time":"2017-04-28T10:41:47.386+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:41:47.391+03:00","children":[],"duration":4.35362},{"name":"process_action.action_controller","payload":{"controller":"Administrators::ProductCategoriesController","action":"update","params":{"utf8":"✓","_method":"patch","authenticity_token":"Hp352efWziQDq82/EB+YattQARJ216rpgNb7evelvXn2fdxWf6e6KLojOmm1C9mGyQE4F16eyyWcKWj5xOWAHA==","product_category":{"name":"Категория 0","product_category_id":"0","slug":"slug-category-0","description":"\u003cp\u003ethis is description\u003c/p\u003e\r\n","meta_title":"","meta_description":"","meta_keywords":"","large_avatar":"Not JSON Encodable"},"commit":"Обновить","controller":"administrators/product_categories","action":"update","id":"slug-category-0"},"headers":"Not JSON Encodable","format":"html","method":"PATCH","path":"/administrators/product_categories/slug-category-0","status":302,"view_runtime":null,"db_runtime":35.913320000000006},"time":"2017-04-28T10:41:46.272+03:00","transaction_id":"cc7bb34232d77816ed4d","end":"2017-04-28T10:41:47.397+03:00","children":[],"duration":1125.204632}]