[{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"menus\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:35:05.588+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.590+03:00","children":[],"duration":1.525293},{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"main_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"main_menu","value_for_database":"main_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:35:05.591+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.592+03:00","children":[],"duration":1.038894},{"name":"sql.active_record","payload":{"sql":"            SELECT c.relname\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind IN ('r', 'v','m') -- (r)elation/table, (v)iew, (m)aterialized view\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:35:05.593+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.595+03:00","children":[],"duration":1.2543680000000001},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"menus\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:35:05.596+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.598+03:00","children":[],"duration":2.705777},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"menu_items\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":22,"filename":"/home/dima/Rails/laston_cms/app/models/menu_item.rb","method":"\u003ctop (required)\u003e"},"time":"2017-04-26T15:35:05.611+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.613+03:00","children":[],"duration":1.7250539999999999},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"menu_items\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":22,"filename":"/home/dima/Rails/laston_cms/app/models/menu_item.rb","method":"\u003ctop (required)\u003e"},"time":"2017-04-26T15:35:05.615+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.617+03:00","children":[],"duration":2.106391},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":22,"filename":"/home/dima/Rails/laston_cms/app/models/menu_item.rb","method":"\u003ctop (required)\u003e"},"time":"2017-04-26T15:35:05.625+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.627+03:00","children":[],"duration":1.963892},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"menu_items\" (\"title\", \"url\") VALUES ($1, $2) RETURNING \"id\"","name":"SQL","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"title","value_before_type_cast":"zz","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"zz","value_for_database":"zz"},{"name":"url","value_before_type_cast":"/","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"/","value_for_database":"/"}],"line":22,"filename":"/home/dima/Rails/laston_cms/app/models/menu_item.rb","method":"\u003ctop (required)\u003e"},"time":"2017-04-26T15:35:05.629+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.631+03:00","children":[],"duration":1.285914},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":22,"filename":"/home/dima/Rails/laston_cms/app/models/menu_item.rb","method":"\u003ctop (required)\u003e"},"time":"2017-04-26T15:35:05.632+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.712+03:00","children":[],"duration":80.084965},{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"footer_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"footer_menu","value_for_database":"footer_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":9,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:35:05.719+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.720+03:00","children":[],"duration":1.21967},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"products\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":69998303367960,"statement_name":null,"binds":[],"line":27,"filename":"/home/dima/Rails/laston_cms/app/services/site/search_product.rb","method":"search_by_sku"},"time":"2017-04-26T15:35:05.746+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.749+03:00","children":[],"duration":2.408689},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\" WHERE \"products\".\"id\" = $1 AND \"products\".\"active\" = $2 LIMIT $3","name":"Product Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"id","value_before_type_cast":"1","type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":"1","value_for_database":1},{"name":"active","value_before_type_cast":true,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":true,"value_for_database":true},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":27,"filename":"/home/dima/Rails/laston_cms/app/services/site/search_product.rb","method":"search_by_sku"},"time":"2017-04-26T15:35:05.752+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:35:05.753+03:00","children":[],"duration":1.224242},{"name":"process_action.action_controller","payload":{"controller":"SiteController","action":"search_product","params":{"utf8":"âœ“","type":"product_sku","search_value":"1","controller":"site","action":"search_product"},"headers":"Not JSON Encodable","format":"html","method":"GET","path":"/search_product?utf8=%E2%9C%93\u0026type=product_sku\u0026search_value=1","view_runtime":null,"db_runtime":94.138381,"exception":["ActionController::UnknownFormat","ActionController::UnknownFormat"],"exception_object":"ActionController::UnknownFormat","status":"500"},"time":"2017-04-26T15:35:05.580+03:00","transaction_id":"0cd2f67e5ae48fcbbc3b","end":"2017-04-26T15:35:05.755+03:00","children":[],"duration":175.590937},{"name":"process_action.action_controller.exception","payload":{"call":"ActionController::UnknownFormat (ActionController::UnknownFormat)"},"time":0,"transaction_id":null,"end":0,"children":[],"duration":0.0},{"name":"process_action.action_controller.exception","payload":{"call":"app/controllers/site_controller.rb:14:in `search_product'"},"time":0,"transaction_id":null,"end":0,"children":[],"duration":0.0}]