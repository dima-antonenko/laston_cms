[{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"main_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"main_menu","value_for_database":"main_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:46:41.986+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:41.987+03:00","children":[],"duration":1.2283870000000001},{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"footer_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"footer_menu","value_for_database":"footer_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":9,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-26T15:46:41.990+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:41.991+03:00","children":[],"duration":1.101725},{"name":"sql.active_record","payload":{"sql":"SELECT  \"carts\".* FROM \"carts\" WHERE \"carts\".\"id\" = $1 LIMIT $2","name":"Cart Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"id","value_before_type_cast":null,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":null,"value_for_database":null},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":5,"filename":"/home/dima/Rails/laston_cms/app/helpers/current_cart.rb","method":"set_cart"},"time":"2017-04-26T15:46:41.993+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:41.994+03:00","children":[],"duration":1.191155},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":7,"filename":"/home/dima/Rails/laston_cms/app/helpers/current_cart.rb","method":"rescue in set_cart"},"time":"2017-04-26T15:46:41.996+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:41.997+03:00","children":[],"duration":0.693276},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"carts\" (\"created_at\", \"updated_at\") VALUES ($1, $2) RETURNING \"id\"","name":"SQL","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"created_at","value_before_type_cast":"2017-04-26T12:46:41.998Z","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"2017-04-26T12:46:41.998Z","value_for_database":"2017-04-26T12:46:41.998Z"},{"name":"updated_at","value_before_type_cast":"2017-04-26T12:46:41.998Z","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"2017-04-26T12:46:41.998Z","value_for_database":"2017-04-26T12:46:41.998Z"}],"line":7,"filename":"/home/dima/Rails/laston_cms/app/helpers/current_cart.rb","method":"rescue in set_cart"},"time":"2017-04-26T15:46:41.999+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.000+03:00","children":[],"duration":1.113514},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":7,"filename":"/home/dima/Rails/laston_cms/app/helpers/current_cart.rb","method":"rescue in set_cart"},"time":"2017-04-26T15:46:42.003+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.046+03:00","children":[],"duration":43.01263},{"name":"sql.active_record","payload":{"sql":"SELECT  \"products\".* FROM \"products\" WHERE \"products\".\"slug\" = $1 ORDER BY \"products\".\"id\" ASC LIMIT $2","name":"Product Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"slug","value_before_type_cast":"product1","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"product1","value_for_database":"product1"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":6,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"initialize"},"time":"2017-04-26T15:46:42.048+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.050+03:00","children":[],"duration":1.529002},{"name":"sql.active_record","payload":{"sql":"SELECT  \"line_items\".* FROM \"line_items\" WHERE \"line_items\".\"cart_id\" = $1 AND \"line_items\".\"product_id\" = $2 LIMIT $3","name":"LineItem Load","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"cart_id","value_before_type_cast":24,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":24,"value_for_database":24},{"name":"product_id","value_before_type_cast":243,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":243,"value_for_database":243},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":13,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"main"},"time":"2017-04-26T15:46:42.054+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.055+03:00","children":[],"duration":1.203991},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":37,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"add_new_line_item"},"time":"2017-04-26T15:46:42.056+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.057+03:00","children":[],"duration":0.659841},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"line_items\" (\"product_id\", \"cart_id\", \"product_name\", \"product_price\", \"total_price\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","name":"SQL","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"product_id","value_before_type_cast":243,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":243,"value_for_database":243},{"name":"cart_id","value_before_type_cast":24,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":24,"value_for_database":24},{"name":"product_name","value_before_type_cast":"Товар 1","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"Товар 1","value_for_database":"Товар 1"},{"name":"product_price","value_before_type_cast":"100.0","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"100.0","value_for_database":"100.0"},{"name":"total_price","value_before_type_cast":100,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":100,"value_for_database":100}],"line":37,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"add_new_line_item"},"time":"2017-04-26T15:46:42.059+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.060+03:00","children":[],"duration":1.040468},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":37,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"add_new_line_item"},"time":"2017-04-26T15:46:42.061+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.069+03:00","children":[],"duration":7.528879},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":33,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"update_product"},"time":"2017-04-26T15:46:42.070+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.071+03:00","children":[],"duration":0.717047},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"products\" WHERE \"products\".\"slug\" = $1 AND (\"products\".\"id\" != $2) LIMIT $3","name":"Product Exists","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"slug","value_before_type_cast":"product1","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"product1","value_for_database":"product1"},{"name":"id","value_before_type_cast":243,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":243,"value_for_database":243},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":33,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"update_product"},"time":"2017-04-26T15:46:42.074+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.075+03:00","children":[],"duration":1.13608},{"name":"sql.active_record","payload":{"sql":"UPDATE \"products\" SET \"qty\" = $1, \"stock\" = $2, \"updated_at\" = $3 WHERE \"products\".\"id\" = $4","name":"SQL","connection_id":69998303367960,"statement_name":null,"binds":[{"name":"qty","value_before_type_cast":0,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":0,"value_for_database":0},{"name":"stock","value_before_type_cast":false,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":false,"value_for_database":false},{"name":"updated_at","value_before_type_cast":"2017-04-26T12:46:42.077Z","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"2017-04-26T12:46:42.077Z","value_for_database":"2017-04-26T12:46:42.077Z"},{"name":"id","value_before_type_cast":243,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":243,"value_for_database":243}],"line":33,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"update_product"},"time":"2017-04-26T15:46:42.078+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.079+03:00","children":[],"duration":1.182041},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":null,"connection_id":69998303367960,"statement_name":null,"binds":[],"line":33,"filename":"/home/dima/Rails/laston_cms/app/services/site/s_cart/add_product.rb","method":"update_product"},"time":"2017-04-26T15:46:42.081+03:00","transaction_id":"f1d6e9000852603f9a2f","end":"2017-04-26T15:46:42.090+03:00","children":[],"duration":9.020838999999999},{"name":"process_action.action_controller","payload":{"controller":"Site::LineItemsController","action":"create","params":{"authenticity_token":"4hnImIR3aHK9pr09z3Q796+lhEqEDdFykBSyabKec4cK+e0XHAYcfgQuSutqYHobvfS9T6xEsL6M6yHqgd5O4g==","product_id":"product1","controller":"site/line_items","action":"create"},"headers":"Not JSON Encodable","format":"html","method":"POST","path":"/line_items?product_id=product1","status":302,"view_runtime":null,"db_runtime":64.930804},"time":"2017-04-26T15:46:41.985+03:00","transaction_id":"f6c71b34b32bcbb4c841","end":"2017-04-26T15:46:42.092+03:00","children":[],"duration":107.438617}]