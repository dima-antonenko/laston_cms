[{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"menus\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.908+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.910+03:00","children":[],"duration":1.9181840000000001},{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"main_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"main_menu","value_for_database":"main_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.912+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.913+03:00","children":[],"duration":1.392008},{"name":"sql.active_record","payload":{"sql":"            SELECT c.relname\n            FROM pg_class c\n            LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n            WHERE c.relkind IN ('r', 'v','m') -- (r)elation/table, (v)iew, (m)aterialized view\n            AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.915+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.916+03:00","children":[],"duration":1.262692},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"menus\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.917+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.919+03:00","children":[],"duration":2.299792},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"menu_items\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":8,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.937+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.939+03:00","children":[],"duration":2.300584},{"name":"sql.active_record","payload":{"sql":"SELECT  \"menus\".* FROM \"menus\" WHERE \"menus\".\"descriptor\" = $1 LIMIT $2","name":"Menu Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"descriptor","value_before_type_cast":"footer_menu","type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"footer_menu","value_for_database":"footer_menu"},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":9,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.942+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.944+03:00","children":[],"duration":1.312982},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"carts\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":10,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.969+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.971+03:00","children":[],"duration":2.540563},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"carts\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":10,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.972+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.975+03:00","children":[],"duration":2.262277},{"name":"sql.active_record","payload":{"sql":"SELECT  \"carts\".* FROM \"carts\" WHERE \"carts\".\"id\" = $1 LIMIT $2","name":"Cart Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"id","value_before_type_cast":25,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":25,"value_for_database":25},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":10,"filename":"/home/dima/Rails/laston_cms/app/controllers/site_controller.rb","method":"all_pages_data"},"time":"2017-04-28T10:19:46.977+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.978+03:00","children":[],"duration":1.299918},{"name":"sql.active_record","payload":{"sql":"SELECT  \"carts\".* FROM \"carts\" WHERE \"carts\".\"id\" = $1 LIMIT $2","name":"Cart Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"id","value_before_type_cast":"25","type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":"25","value_for_database":25},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":36,"filename":"/home/dima/Rails/laston_cms/app/controllers/site/carts_controller.rb","method":"set_cart"},"time":"2017-04-28T10:19:46.984+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:46.986+03:00","children":[],"duration":1.439276},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"orders\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":5,"filename":"/home/dima/Rails/laston_cms/app/controllers/site/carts_controller.rb","method":"show"},"time":"2017-04-28T10:19:47.001+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.003+03:00","children":[],"duration":2.362639},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"orders\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":5,"filename":"/home/dima/Rails/laston_cms/app/controllers/site/carts_controller.rb","method":"show"},"time":"2017-04-28T10:19:47.006+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.008+03:00","children":[],"duration":2.389953},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation \u003c\u003e t.typcollation),\n                     col_description(a.attrelid, a.attnum) AS comment\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"line_items\"'::regclass\n                 AND a.attnum \u003e 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":6,"filename":"/home/dima/Rails/laston_cms/app/controllers/site/carts_controller.rb","method":"show"},"time":"2017-04-28T10:19:47.031+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.033+03:00","children":[],"duration":1.903608},{"name":"sql.active_record","payload":{"sql":"SELECT \"line_items\".* FROM \"line_items\" WHERE \"line_items\".\"cart_id\" = $1","name":"LineItem Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"cart_id","value_before_type_cast":25,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":25,"value_for_database":25}],"line":24,"filename":"/home/dima/Rails/laston_cms/app/views/site/kute_shop/cart.html.erb","method":"_app_views_site_kute_shop_cart_html_erb___3362464615217231095_69862596504740"},"time":"2017-04-28T10:19:47.040+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.041+03:00","children":[],"duration":1.33307},{"name":"sql.active_record","payload":{"sql":"SELECT \"line_items\".* FROM \"line_items\" WHERE \"line_items\".\"cart_id\" = $1","binds":[{"name":"cart_id","value_before_type_cast":25,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":25,"value_for_database":25}],"name":"CACHE","connection_id":47253298049740,"line":6,"filename":"/home/dima/Rails/laston_cms/app/models/cart.rb","method":"total_price"},"time":"2017-04-28T10:19:47.045+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.045+03:00","children":[],"duration":0.631807},{"name":"render_template.action_view","payload":{"identifier":"/home/dima/Rails/laston_cms/app/views/site/kute_shop/cart.html.erb","layout":"layouts/site"},"time":"2017-04-28T10:19:47.037+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.050+03:00","children":[],"duration":12.764418},{"name":"sql.active_record","payload":{"sql":"SELECT \"line_items\".* FROM \"line_items\" WHERE \"line_items\".\"cart_id\" = $1","binds":[{"name":"cart_id","value_before_type_cast":25,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":25,"value_for_database":25}],"name":"CACHE","connection_id":47253298049740,"line":6,"filename":"/home/dima/Rails/laston_cms/app/models/cart.rb","method":"total_price"},"time":"2017-04-28T10:19:47.059+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.060+03:00","children":[],"duration":0.621899},{"name":"sql.active_record","payload":{"sql":"SELECT \"menu_items\".* FROM \"menu_items\" WHERE \"menu_items\".\"menu_id\" = $1 AND \"menu_items\".\"ancestry\" IS NULL","name":"MenuItem Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"menu_id","value_before_type_cast":3,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":3,"value_for_database":3}],"line":45,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"_app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.061+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.063+03:00","children":[],"duration":1.311086},{"name":"sql.active_record","payload":{"sql":"WITH pk_constraint AS (\n  SELECT conrelid, unnest(conkey) AS connum FROM pg_constraint\n  WHERE contype = 'p'\n    AND conrelid = '\"menu_items\"'::regclass\n), cons AS (\n  SELECT conrelid, connum, row_number() OVER() AS rownum FROM pk_constraint\n)\nSELECT attr.attname FROM pg_attribute attr\nINNER JOIN cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.connum\nORDER BY cons.rownum\n","name":"SCHEMA","connection_id":47253298049740,"statement_name":null,"binds":[],"line":45,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"_app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.064+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.066+03:00","children":[],"duration":2.234245},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '66' LIMIT $1","name":"MenuItem Exists","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":46,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.082+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.083+03:00","children":[],"duration":1.176456},{"name":"sql.active_record","payload":{"sql":"SELECT \"menu_items\".* FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '66'","name":"MenuItem Load","connection_id":47253298049740,"statement_name":null,"binds":[],"line":54,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.085+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.086+03:00","children":[],"duration":1.41648},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '67' LIMIT $1","name":"MenuItem Exists","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":46,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.089+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.091+03:00","children":[],"duration":1.2613640000000002},{"name":"sql.active_record","payload":{"sql":"SELECT \"menu_items\".* FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '67'","name":"MenuItem Load","connection_id":47253298049740,"statement_name":null,"binds":[],"line":54,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.093+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.094+03:00","children":[],"duration":1.166754},{"name":"sql.active_record","payload":{"sql":"SELECT  1 AS one FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '68' LIMIT $1","name":"MenuItem Exists","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"line":46,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.096+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.097+03:00","children":[],"duration":1.14014},{"name":"sql.active_record","payload":{"sql":"SELECT \"menu_items\".* FROM \"menu_items\" WHERE \"menu_items\".\"ancestry\" = '68'","name":"MenuItem Load","connection_id":47253298049740,"statement_name":null,"binds":[],"line":54,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb","method":"block in _app_views_layouts_site__header_html_erb___1715260379430544634_69862594662180"},"time":"2017-04-28T10:19:47.099+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.102+03:00","children":[],"duration":2.708444},{"name":"render_partial.action_view","payload":{"identifier":"/home/dima/Rails/laston_cms/app/views/layouts/site/_header.html.erb"},"time":"2017-04-28T10:19:47.056+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.105+03:00","children":[],"duration":49.247378000000005},{"name":"sql.active_record","payload":{"sql":"SELECT \"menu_items\".* FROM \"menu_items\" WHERE \"menu_items\".\"menu_id\" = $1","name":"MenuItem Load","connection_id":47253298049740,"statement_name":null,"binds":[{"name":"menu_id","value_before_type_cast":4,"type":{"precision":null,"scale":null,"limit":null,"range":"-2147483648...2147483648"},"original_attribute":null,"value":4,"value_for_database":4}],"line":6,"filename":"/home/dima/Rails/laston_cms/app/views/layouts/site/_footer.html.erb","method":"_app_views_layouts_site__footer_html_erb__3008328322218437075_69862579772540"},"time":"2017-04-28T10:19:47.109+03:00","transaction_id":"86993df1c88f40f03469","end":"2017-04-28T10:19:47.111+03:00","children":[],"duration":1.5769469999999999},{"name":"render_partial.action_view","payload":{"identifier":"/home/dima/Rails/laston_cms/app/views/layouts/site/_footer.html.erb"},"time":"2017-04-28T10:19:47.106+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.113+03:00","children":[],"duration":7.0232589999999995},{"name":"process_action.action_controller","payload":{"controller":"Site::CartsController","action":"show","params":{"controller":"site/carts","action":"show","id":"25"},"headers":"Not JSON Encodable","format":"html","method":"GET","path":"/carts/25","status":200,"view_runtime":79.75041400033228,"db_runtime":30.129331000000004},"time":"2017-04-28T10:19:46.899+03:00","transaction_id":"2003ddb1ca7a0484f0c6","end":"2017-04-28T10:19:47.124+03:00","children":[],"duration":225.315791}]